import{o as O}from"./index-de653f06.js";import{a as D}from"./codemirror-dcc56ac5.js";import{r as I}from"./index-74dc1744.js";function $(r,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in r)){const u=Object.getOwnPropertyDescriptor(s,a);u&&Object.defineProperty(r,a,u.get?u:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}var F={},G={};Object.defineProperty(G,"__esModule",{value:!0});function C(r){p=r,j=r.length,i=f=y=-1,o(),N();var e=B();return v("EOF"),e}G.default=C;var p,j,i,f,y,n,l;function B(){var r=i,e=[];if(v("{"),!w("}")){do e.push(H());while(w(","));v("}")}return{kind:"Object",start:r,end:y,members:e}}function H(){var r=i,e=l==="String"?q():null;v("String"),v(":");var t=Q();return{kind:"Member",start:r,end:y,key:e,value:t}}function U(){var r=i,e=[];if(v("["),!w("]")){do e.push(Q());while(w(","));v("]")}return{kind:"Array",start:r,end:y,values:e}}function Q(){switch(l){case"[":return U();case"{":return B();case"String":case"Number":case"Boolean":case"Null":var r=q();return N(),r}v("Value")}function q(){return{kind:l,start:i,end:f,value:JSON.parse(p.slice(i,f))}}function v(r){if(l===r){N();return}var e;if(l==="EOF")e="[end of file]";else if(f-i>1)e="`"+p.slice(i,f)+"`";else{var t=p.slice(i).match(/^.+?\b/);e="`"+(t?t[0]:p[i])+"`"}throw m("Expected "+r+" but found "+e+".")}function m(r){return{message:r,start:i,end:f}}function w(r){if(l===r)return N(),!0}function o(){return f<j&&(f++,n=f===j?0:p.charCodeAt(f)),n}function N(){for(y=f;n===9||n===10||n===13||n===32;)o();if(n===0){l="EOF";return}switch(i=f,n){case 34:return l="String",z();case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return l="Number",J();case 102:if(p.slice(i,i+5)!=="false")break;f+=4,o(),l="Boolean";return;case 110:if(p.slice(i,i+4)!=="null")break;f+=3,o(),l="Null";return;case 116:if(p.slice(i,i+4)!=="true")break;f+=3,o(),l="Boolean";return}l=p[i],o()}function z(){for(o();n!==34&&n>31;)if(n===92)switch(n=o(),n){case 34:case 47:case 92:case 98:case 102:case 110:case 114:case 116:o();break;case 117:o(),_(),_(),_(),_();break;default:throw m("Bad character escape sequence.")}else{if(f===j)throw m("Unterminated string.");o()}if(n===34){o();return}throw m("Unterminated string.")}function _(){if(n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102)return o();throw m("Expected hexadecimal digit.")}function J(){n===45&&o(),n===48?o():x(),n===46&&(o(),x()),(n===69||n===101)&&(n=o(),(n===43||n===45)&&o(),x())}function x(){if(n<48||n>57)throw m("Expected decimal digit.");do o();while(n>=48&&n<=57)}var K=O&&O.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var s=t.call(r),a,u=[],c;try{for(;(e===void 0||e-- >0)&&!(a=s.next()).done;)u.push(a.value)}catch(d){c={error:d}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(c)throw c.error}}return u},M=O&&O.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(F,"__esModule",{value:!0});var R=M(D),b=I,W=M(G);R.default.registerHelper("lint","graphql-variables",function(r,e,t){if(!r)return[];var s;try{s=W.default(r)}catch(u){if(u.stack)throw u;return[L(t,u,u.message)]}var a=e.variableToType;return a?X(t,a,s):[]});function X(r,e,t){var s=[];return t.members.forEach(function(a){var u;if(a){var c=(u=a.key)===null||u===void 0?void 0:u.value,d=e[c];d?k(d,a.value).forEach(function(g){var h=K(g,2),E=h[0],V=h[1];s.push(L(r,E,V))}):s.push(L(r,a.key,'Variable "$'+c+'" does not appear in any GraphQL query.'))}}),s}function k(r,e){if(!r||!e)return[];if(r instanceof b.GraphQLNonNull)return e.kind==="Null"?[[e,'Type "'+r+'" is non-nullable and cannot be null.']]:k(r.ofType,e);if(e.kind==="Null")return[];if(r instanceof b.GraphQLList){var t=r.ofType;if(e.kind==="Array"){var s=e.values||[];return P(s,function(c){return k(t,c)})}return k(t,e)}if(r instanceof b.GraphQLInputObjectType){if(e.kind!=="Object")return[[e,'Type "'+r+'" must be an Object.']];var a=Object.create(null),u=P(e.members,function(c){var d,g=(d=c==null?void 0:c.key)===null||d===void 0?void 0:d.value;a[g]=!0;var h=r.getFields()[g];if(!h)return[[c.key,'Type "'+r+'" does not have a field "'+g+'".']];var E=h?h.type:void 0;return k(E,c.value)});return Object.keys(r.getFields()).forEach(function(c){if(!a[c]){var d=r.getFields()[c].type;d instanceof b.GraphQLNonNull&&u.push([e,'Object of type "'+r+'" is missing required field "'+c+'".'])}}),u}return r.name==="Boolean"&&e.kind!=="Boolean"||r.name==="String"&&e.kind!=="String"||r.name==="ID"&&e.kind!=="Number"&&e.kind!=="String"||r.name==="Float"&&e.kind!=="Number"||r.name==="Int"&&(e.kind!=="Number"||(e.value|0)!==e.value)?[[e,'Expected value of type "'+r+'".']]:(r instanceof b.GraphQLEnumType||r instanceof b.GraphQLScalarType)&&(e.kind!=="String"&&e.kind!=="Number"&&e.kind!=="Boolean"&&e.kind!=="Null"||Y(r.parseValue(e.value)))?[[e,'Expected value of type "'+r+'".']]:[]}function L(r,e,t){return{message:t,severity:"error",type:"validation",from:r.posFromIndex(e.start),to:r.posFromIndex(e.end)}}function Y(r){return r==null||r!==r}function P(r,e){return Array.prototype.concat.apply([],r.map(e))}const A=$({__proto__:null,default:F},[F]);export{A as l};
